apiVersion: v1
kind: Service
metadata:
  labels:
      app: onlyoffice
  name: onlyoffice
spec:
  ports:
  - name: "80"
    port: 80
    targetPort: 80
  - name: "443"
    port: 443
    targetPort: 443
  selector:
    app: onlyoffice-documentserver
---
apiVersion: v1
kind: Service
metadata:
  labels:
      app: onlyoffice-postgresql
  name: onlyoffice-postgresql
spec:
  ports:
  - name: postgres
    port: 5432
    protocol: TCP
    targetPort: 5432
  selector:
      app: onlyoffice-postgresql
---
apiVersion: v1
kind: Service
metadata:
  labels:
      app: onlyoffice-rabbitmq
  name: onlyoffice-rabbitmq
spec:
  ports:
  - name: rabbitmq
    port: 5672
    protocol: TCP
    targetPort: 5432
  selector:
      app: onlyoffice-rabbitmq

---
apiVersion: v1
kind: Service
metadata:
  labels:
      app: onlyoffice-redis
  name: onlyoffice-redis
spec:
  ports:
  - name: redis
    port: 6379
    protocol: TCP
    targetPort: 6379
  selector:
      app: onlyoffice-redis
      
